<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>用Promise加载图片</title>
  </head>
  <body></body>
  <script>
    const loadImage = (url) => {
      return new Promise((resolve, reject) => {
        const img = document.createElement("img");
        img.src = url;
        img.onload = (e) => {
          resolve(img);
        };
        img.onerror = (e) => {
          reject(e);
        };
      });
    };
    loadImage(
      "https://tse4-mm.cn.bing.net/th/id/OIP-C.beD7BzL-gO9hlAWVywWfLQHaEK?w=286&h=180&c=7&r=0&o=5&dpr=2&pid=1.7"
    ).then((res) => {
      document.body.appendChild(res);
    });
  </script>
</html>
